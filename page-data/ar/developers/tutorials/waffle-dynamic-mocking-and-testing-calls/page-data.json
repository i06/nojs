{
    "componentChunkName": "component---src-templates-tutorial-js",
    "path": "/ar/developers/tutorials/waffle-dynamic-mocking-and-testing-calls/",
    "result": {"data":{"siteData":{"siteMetadata":{"editContentUrl":"https://github.com/ethereum/ethereum-org-website/tree/dev/"}},"pageData":{"fields":{"slug":"/en/developers/tutorials/waffle-dynamic-mocking-and-testing-calls/","readingTime":{"minutes":6.8}},"frontmatter":{"title":"Waffle: Dynamic mocking and testing contract calls","description":"Advanced Waffle tutorial for using dynamic mocking and testing contract calls","lang":"en","tags":["waffle","smart contracts","solidity","testing","mocking"],"author":"Daniel Izdebski","source":null,"sourceUrl":null,"skill":"intermediate","published":"2020-11-14T00:00:00.000Z","sidebar":true,"sidebarDepth":null,"address":null,"isOutdated":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Waffle: Dynamic mocking and testing contract calls\",\n  \"description\": \"Advanced Waffle tutorial for using dynamic mocking and testing contract calls\",\n  \"author\": \"Daniel Izdebski\",\n  \"tags\": [\"waffle\", \"smart contracts\", \"solidity\", \"testing\", \"mocking\"],\n  \"skill\": \"intermediate\",\n  \"lang\": \"en\",\n  \"sidebar\": true,\n  \"published\": \"2020-11-14T00:00:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"what-is-this-tutorial-about\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#what-is-this-tutorial-about\",\n    \"aria-label\": \"what is this tutorial about permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"What is this tutorial about?\"), mdx(\"p\", null, \"In this tutorial you will learn how to:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"use dynamic mocking\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"test interactions between smart contracts\")), mdx(\"p\", null, \"Assumptions:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"you already know how to write a simple smart contract in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Solidity\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"you know your way around \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"JavaScript\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TypeScript\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"you've done other \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Waffle\"), \" tutorials or know a thing or two about it\")), mdx(\"h2\", {\n    \"id\": \"dynamic-mocking\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#dynamic-mocking\",\n    \"aria-label\": \"dynamic mocking permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Dynamic mocking\"), mdx(\"p\", null, \"Why is dynamic mocking useful? Well, it allows us to write unit tests instead of integration tests. What does it mean? It means that we don't have to worry about smart contracts' dependencies, thus we can test all of them in complete isolation. Let me show you how exactly you can do it.\"), mdx(\"h3\", {\n    \"id\": \"1-project\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#1-project\",\n    \"aria-label\": \"1 project permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"1. Project\")), mdx(\"p\", null, \"Before we start we need to prepare a simple node.js project:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ mkdir dynamic-mocking\\n$ cd dynamic-mocking\\n$ mkdir contracts src\\n\\n$ yarn init\\n# or if you're using npm\\n$ npm init\\n\")), mdx(\"p\", null, \"Let's start with adding typescript and test dependencies - mocha & chai:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ yarn add --dev @types/chai @types/mocha chai mocha ts-node typescript\\n# or if you're using npm\\n$ npm install @types/chai @types/mocha chai mocha ts-node typescript --save-dev\\n\")), mdx(\"p\", null, \"Now let's add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Waffle\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ethers\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ yarn add --dev ethereum-waffle ethers\\n# or if you're using npm\\n$ npm install ethereum-waffle ethers --save-dev\\n\")), mdx(\"p\", null, \"Your project structure should look like this now:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \".\\n\\u251C\\u2500\\u2500 contracts\\n\\u251C\\u2500\\u2500 package.json\\n\\u2514\\u2500\\u2500 test\\n\")), mdx(\"h3\", {\n    \"id\": \"2-smart-contract\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#2-smart-contract\",\n    \"aria-label\": \"2 smart contract permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"2. Smart contract\")), mdx(\"p\", null, \"To start dynamic mocking, we need a smart contract with dependencies. Don't worry, I've got you covered!\"), mdx(\"p\", null, \"Here's a simple smart contract written in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Solidity\"), \" whose sole purpose is to check if we're rich. It uses ERC20 token to check if we have enough tokens. Put it in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./contracts/AmIRichAlready.sol\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-solidity\"\n  }, \"pragma solidity ^0.6.2;\\n\\ninterface IERC20 {\\n    function balanceOf(address account) external view returns (uint256);\\n}\\n\\ncontract AmIRichAlready {\\n    IERC20 private tokenContract;\\n    uint public richness = 1000000 * 10 ** 18;\\n\\n    constructor (IERC20 _tokenContract) public {\\n        tokenContract = _tokenContract;\\n    }\\n\\n    function check() public view returns (bool) {\\n        uint balance = tokenContract.balanceOf(msg.sender);\\n        return balance > richness;\\n    }\\n}\\n\")), mdx(\"p\", null, \"As we want to use dynamic mocking we don't need the whole ERC20, that's why we're using the IERC20 interface with only one function.\"), mdx(\"p\", null, \"It's time to build this contract! For that we will use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Waffle\"), \". First, we're going to create a simple \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"waffle.json\"), \" config file which specifies compilation options.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"compilerType\\\": \\\"solcjs\\\",\\n  \\\"compilerVersion\\\": \\\"0.6.2\\\",\\n  \\\"sourceDirectory\\\": \\\"./contracts\\\",\\n  \\\"outputDirectory\\\": \\\"./build\\\"\\n}\\n\")), mdx(\"p\", null, \"Now we're ready to build the contract with Waffle:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ npx waffle\\n\")), mdx(\"p\", null, \"Easy, right? In \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build/\"), \" folder two files corresponding to the contract and the interface appeared. We will use them later for testing.\"), mdx(\"h3\", {\n    \"id\": \"3-testing\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#3-testing\",\n    \"aria-label\": \"3 testing permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"3. Testing\")), mdx(\"p\", null, \"Let's create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready.test.ts\"), \" for the actual testing. First of all, we have to handle the imports. We will need them for later:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { expect, use } from \\\"chai\\\"\\nimport { Contract, utils, Wallet } from \\\"ethers\\\"\\nimport {\\n  deployContract,\\n  deployMockContract,\\n  MockProvider,\\n  solidity,\\n} from \\\"ethereum-waffle\\\"\\n\")), mdx(\"p\", null, \"Except for JS dependencies, we need to import our built contract and interface:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import IERC20 from \\\"../build/IERC20.json\\\"\\nimport AmIRichAlready from \\\"../build/AmIRichAlready.json\\\"\\n\")), mdx(\"p\", null, \"Waffle uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"chai\"), \" for testing. However, before we can use it, we have to inject Waffle's matchers into chai itself:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"use(solidity)\\n\")), mdx(\"p\", null, \"We need to implement \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"beforeEach()\"), \" function that will reset the state of the contract before each test. Let's first think of what we need there. To deploy a contract we need two things: a wallet and a deployed ERC20 contract to pass it as an argument for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready\"), \" contract.\"), mdx(\"p\", null, \"Firstly we create a wallet:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const [wallet] = new MockProvider().getWallets()\\n\")), mdx(\"p\", null, \"Then we need to deploy an ERC20 contract. Here's the tricky part - we have only an interface. This is the part where Waffle comes to save us. Waffle has a magical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deployMockContract()\"), \" function that creates a contract using solely the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"abi\"), \" of the interface:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const mockERC20 = await deployMockContract(wallet, IERC20.abi)\\n\")), mdx(\"p\", null, \"Now with both the wallet and the deployed ERC20, we can go ahead and deploy the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready\"), \" contract:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const contract = await deployContract(wallet, AmIRichAlready, [\\n  mockERC20.address,\\n])\\n\")), mdx(\"p\", null, \"With all of that, our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"beforeEach()\"), \" function is finished. So far your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready.test.ts\"), \" file should look like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { expect, use } from \\\"chai\\\"\\nimport { Contract, utils, Wallet } from \\\"ethers\\\"\\nimport {\\n  deployContract,\\n  deployMockContract,\\n  MockProvider,\\n  solidity,\\n} from \\\"ethereum-waffle\\\"\\n\\nimport IERC20 from \\\"../build/IERC20.json\\\"\\nimport AmIRichAlready from \\\"../build/AmIRichAlready.json\\\"\\n\\nuse(solidity)\\n\\ndescribe(\\\"Am I Rich Already\\\", () => {\\n  let mockERC20: Contract\\n  let contract: Contract\\n  let wallet: Wallet\\n\\n  beforeEach(async () => {\\n    ;[wallet] = new MockProvider().getWallets()\\n    mockERC20 = await deployMockContract(wallet, IERC20.abi)\\n    contract = await deployContract(wallet, AmIRichAlready, [mockERC20.address])\\n  })\\n})\\n\")), mdx(\"p\", null, \"Let's write the first test to the the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready\"), \" contract. What do you think our test should be about? Yeah, you're right! We should check if we are already rich :)\"), mdx(\"p\", null, \"But wait a second. How will our mocked contract know what values to return? We haven't implemented any logic for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"balanceOf()\"), \" function. Again, Waffle can help here. Our mocked contract has some new fancy stuff to it now:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"await mockERC20.mock.<nameOfMethod>.returns(<value>)\\nawait mockERC20.mock.<nameOfMethod>.withArgs(<arguments>).returns(<value>)\\n\")), mdx(\"p\", null, \"With this knowledge we can finally write our first test:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"it(\\\"returns false if the wallet has less than 1000000 tokens\\\", async () => {\\n  await mockERC20.mock.balanceOf.returns(utils.parseEther(\\\"999999\\\"))\\n  expect(await contract.check()).to.be.equal(false)\\n})\\n\")), mdx(\"p\", null, \"Let's brake down this test into parts:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"We set our mock ERC20 contract to always return balance of 999999 tokens.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Check if the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"contract.check()\"), \" method returns \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"false\"), \".\")), mdx(\"p\", null, \"We're ready to fire up the beast:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/0a301bfee3be0969a8802986683214d5/669eb/test-one.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"15.333333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAATklEQVQI133LMQ7AIAwDQCfEMSBVHfj/X4tgaRl6QwbbQe31XsYYmenuEVFeZriTaqDhw8IoSmqtxbLXJPedFZfu0PEMARdKL0qZneW/ByrmAlWXeIqJAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"One test passing\",\n    \"title\": \"One test passing\",\n    \"src\": \"/static/0a301bfee3be0969a8802986683214d5/c1b63/test-one.png\",\n    \"srcSet\": [\"/static/0a301bfee3be0969a8802986683214d5/5a46d/test-one.png 300w\", \"/static/0a301bfee3be0969a8802986683214d5/0a47e/test-one.png 600w\", \"/static/0a301bfee3be0969a8802986683214d5/c1b63/test-one.png 1200w\", \"/static/0a301bfee3be0969a8802986683214d5/669eb/test-one.png 1244w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"So the test works, but... there's still some room for improvement. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"balanceOf()\"), \" function will always return 99999. We can improve it by specifying a wallet for which the function should return something - just like a real contract:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"it(\\\"returns false if the wallet has less than 1000001 tokens\\\", async () => {\\n  await mockERC20.mock.balanceOf\\n    .withArgs(wallet.address)\\n    .returns(utils.parseEther(\\\"999999\\\"))\\n  expect(await contract.check()).to.be.equal(false)\\n})\\n\")), mdx(\"p\", null, \"So far, we've tested only the case where we're not rich enough. Let's test the opposite instead:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"it(\\\"returns true if the wallet has at least 1000001 tokens\\\", async () => {\\n  await mockERC20.mock.balanceOf\\n    .withArgs(wallet.address)\\n    .returns(utils.parseEther(\\\"1000001\\\"))\\n  expect(await contract.check()).to.be.equal(true)\\n})\\n\")), mdx(\"p\", null, \"You run the tests...\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/e731bdb5b13137014f4967c9a1348fe0/669eb/test-two.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"17.666666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAY0lEQVQI15WNSw6AIAxE+yGSCJRP5QTe/46WyEING1/SSdtkZkBESim1ViLCFfNvCuBsnmhTM7fWQgh3UEopxmhqZ+9dVSXnEvbTwcFvN/LIHcsKZp79OGo/xYAC3m+EBP+5AH4rA9dHuzwJAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Two tests passing\",\n    \"title\": \"Two tests passing\",\n    \"src\": \"/static/e731bdb5b13137014f4967c9a1348fe0/c1b63/test-two.png\",\n    \"srcSet\": [\"/static/e731bdb5b13137014f4967c9a1348fe0/5a46d/test-two.png 300w\", \"/static/e731bdb5b13137014f4967c9a1348fe0/0a47e/test-two.png 600w\", \"/static/e731bdb5b13137014f4967c9a1348fe0/c1b63/test-two.png 1200w\", \"/static/e731bdb5b13137014f4967c9a1348fe0/669eb/test-two.png 1244w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"...and here you are! Our contract seems to work as intended :)\"), mdx(\"h2\", {\n    \"id\": \"testing-contract-calls\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#testing-contract-calls\",\n    \"aria-label\": \"testing contract calls permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Testing contract calls\"), mdx(\"p\", null, \"Let's sum up what've done so far. We've tested the functionality of our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AmIRichAlready\"), \" contract and it seems to be working properly. That means we're done, right? Not exactly! Waffle allows us to test our contract even further. But how exactly? Well, in Waffle's arsenal there's a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calledOnContract()\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calledOnContractWith()\"), \" matchers. They will allow us to check if our contract called the ERC20 mock contract. Here's a basic test with one of these matchers:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"it(\\\"checks if contract called balanceOf on the ERC20 token\\\", async () => {\\n  await mockERC20.mock.balanceOf.returns(utils.parseEther(\\\"999999\\\"))\\n  await contract.check()\\n  expect(\\\"balanceOf\\\").to.be.calledOnContract(mockERC20)\\n})\\n\")), mdx(\"p\", null, \"We can go even further and improve this test with the other matcher I told you about:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"it(\\\"checks if contract called balanceOf with certain wallet on the ERC20 token\\\", async () => {\\n  await mockERC20.mock.balanceOf\\n    .withArgs(wallet.address)\\n    .returns(utils.parseEther(\\\"999999\\\"))\\n  await contract.check()\\n  expect(\\\"balanceOf\\\").to.be.calledOnContractWith(mockERC20, [wallet.address])\\n})\\n\")), mdx(\"p\", null, \"Let's check if the tests are correct:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/82a33fd32214f23580d79f8cc19f0cf1/669eb/test-three.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"20%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeUlEQVQI14WOzRLCMAiEl5/S1JpAMvXo+7+mmIwHvfgdlh0YFlCO0txba2MMMyMimaiqfOBk6qa6+gfDCKCdPHLbIyIjaq3LLN97f1yXe/R6f+7Si+n25mQUBsDQDJyZmZ2as3V5+XwniwmfBME3VIAGueVbv6O/vAAX1QTvXKP+aAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Three tests passing\",\n    \"title\": \"Three tests passing\",\n    \"src\": \"/static/82a33fd32214f23580d79f8cc19f0cf1/c1b63/test-three.png\",\n    \"srcSet\": [\"/static/82a33fd32214f23580d79f8cc19f0cf1/5a46d/test-three.png 300w\", \"/static/82a33fd32214f23580d79f8cc19f0cf1/0a47e/test-three.png 600w\", \"/static/82a33fd32214f23580d79f8cc19f0cf1/c1b63/test-three.png 1200w\", \"/static/82a33fd32214f23580d79f8cc19f0cf1/669eb/test-three.png 1244w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Great, all tests are green.\"), mdx(\"p\", null, \"Testing contract calls with Waffle is super easy. And here's the best part. These matchers work with both normal and mocked contracts! It is because Waffle records and filters EVM calls rather than inject code, like it is the case of popular testing libraries for other technologies.\"), mdx(\"h2\", {\n    \"id\": \"the-finish-line\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#the-finish-line\",\n    \"aria-label\": \"the finish line permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"The Finish Line\"), mdx(\"p\", null, \"Congrats! Now you know how to use Waffle to test contract calls and mock contracts dynamically. There are far more interesting features to discover. I recommend diving into Waffle's documentation.\"), mdx(\"p\", null, \"Waffle's documentation is available \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://ethereum-waffle.readthedocs.io/\"\n  }, \"here\"), \".\"), mdx(\"p\", null, \"Source code for this tutorial can be found \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/EthWorks/Waffle/tree/master/examples/dynamic-mocking-and-testing-calls\"\n  }, \"here\"), \".\"), mdx(\"p\", null, \"Tutorials you may also be interested in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/developers/tutorials/testing-smart-contract-with-waffle/\"\n  }, \"Testing smart contracts with Waffle\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#what-is-this-tutorial-about-what-is-this-tutorial-about","title":"What is this tutorial about? {#what-is-this-tutorial-about}"},{"url":"#dynamic-mocking-dynamic-mocking","title":"Dynamic mocking {#dynamic-mocking}","items":[{"url":"#1-project-1-project","title":"1. Project {#1-project}"},{"url":"#2-smart-contract-2-smart-contract","title":"2. Smart contract {#2-smart-contract}"},{"url":"#3-testing-3-testing","title":"3. Testing {#3-testing}"}]},{"url":"#testing-contract-calls-testing-contract-calls","title":"Testing contract calls {#testing-contract-calls}"},{"url":"#the-finish-line-the-finish-line","title":"The Finish Line {#the-finish-line}"}]}}},"pageContext":{"slug":"/ar/developers/tutorials/waffle-dynamic-mocking-and-testing-calls/","ignoreTranslationBanner":false,"isOutdated":false,"isContentEnglish":true,"relativePath":"src/content/developers/tutorials/waffle-dynamic-mocking-and-testing-calls/index.md","intl":{"language":"ar","defaultLanguage":"en","languages":["en","ar","bg","bn","ca","cs","de","el","es","fa","fi","fr","hi","hr","hu","id","ig","it","ja","ko","lt","ml","nl","nb","pl","pt","pt-br","ro","ru","se","sk","sl","tr","uk","vi","zh","zh-tw"],"messages":{"1inch-logo":"شعار شركة 1inch","aave-logo":"شعار شركة Aave","about":"نبذة","about-ethereum-org":"نبذة عن ethereum.org","about-us":"نبذة عنا","alt-eth-blocks":"صورة توضيحية لكتل منظمة على شكل شعار الإثيريوم","aria-toggle-search-button":"تبديل زر البحث","aria-toggle-menu-button":"تبديل زر القائمة","back-to-top":"عودة إلى الأعلى","banner-page-incomplete":"هذه الصفحة غير مكتملة و تسعدنا مساعدتك، عدل هذه الصفحة وأضف أي شيء تجد أنه ذو منفعة للآخرين.","beacon-chain":"سلسلة المنارة","binance-logo":"شعار شركة Binance","bittrex-logo":"شعار شركة Bittrex","brand-assets":"أصول العلامة التجارية","bug-bounty":"مكافأة اكتشاف الأخطاء","coinbase-logo":"شعار شركة Coinbase","coinmama-logo":"شعار شركة Coinmama","community":"المجتمع","community-menu":"قائمة المجتمع","compound-logo":"شعار شركة Compound","cons":"سلبيات","contact":"تواصل","content-versions":"نسخ المحتوى","contributing":"المساهمة","contributors":"المساهمون","contributors-thanks":"إلى كل من ساهم في هذه الصفحة، شكرا لك!","cookie-policy":"سياسة ملفات تعريف الارتباط","copied":"تم النسخ","copy":"نسخ","dark-mode":"داكن","data-provided-by":"مصدر البيانات:","decentralized-applications-dapps":"التطبيقات اللامركزية (dapps)","deposit-contract":"عقد الإيداع","devcon":"مؤتمر دفكون السنوي","developer-resources":"مصادر المبرمجين","developers":"المبرمجون","developers-home":"الصفحة الرئيسية للمطورين","docs":"المستندات","documentation":"التوثيق","dydx-logo":"شعار شركة Dydx","ecosystem":"الشبكة التعاونية","edit-page":"تعديل الصفحة","ef-blog":"مدونة مؤسسة إثيريوم","eips":"مقترحات تحسين إثيريوم","enterprise":"شركة","enterprise-menu":"قائمة الشركات","esp":"برنامج دعم النظام البيئي","eth-current-price":"سعر ETH الحالي (بالدولار الأمريكي)","eth2":"الإصدار الثاني للإيثريوم","eth2-beaconcha-in-desc":"برنامج مفتوح المصدر لاستكشاف سلسلة المنارة Beacon Chain للإصدار الثاني للإيثريوم Eth2","eth2-beaconscan-desc":"برنامج لاستكشاف سلسلة المنارة Beacon Chain للإصدار الثاني للإيثريوم Eth2 اسمه Etherscan for Eth2","eth2-become-staker":"ابدا الاستثمار","eth2-become-staker-desc":"إذا كنت تتطلع للمشاركة، فقد بدأت عملية تجميد عملات الإيثريوم لدعم وتأمين الشبكة. تأكد من أنك على دراية بالمخاطر.","eth2-explore":"استكشف البيانات","eth2-no-action-needed":"أنت لست بحاجة إلى فعل أي شيء بالـETH التي لديك. انتبه إلى المخادعين الذين يطلبون منك إرسال ETH لمبادلته.","eth2-run-beacon-chain":"تشغيل عميل المنارة","eth2-run-beacon-chain-desc":"يحتاج إيثيريوم إلى أكبر عدد ممكن من العملاء. ساعد إيثيريوم للمصلحة العامة!","eth2-service-announcement":"إعلان خدمة Eth2","eth2-what-shipping":"متى يتم الشحن؟","ethereum":"إثيريوم","ethereum-2-0":"إثيريوم 2.0","ethereum-brand-assets":"أصول العلامة التجارية لإيثريوم","ethereum-community":"مجتمع إثيريوم","ethereum-foundation":"مؤسسة إيثيريوم","ethereum-foundation-logo":"شعار مؤسسة إيثيريوم","ethereum-glossary":"مسرد مصطلحات إثيريوم","ethereum-governance":"إدارة إيثيريوم","ethereum-logo":"شعار إثيريوم","ethereum-security":"أمان إثيريوم ومنع الاحتيال","ethereum-studio":"استوديو إيثريوم","ethereum-wallets":"محافظ إثيريوم","ethereum-whitepaper":"دليل استخدام إثيريوم","example-projects":"مثال للمشاريع","find-wallet":"البحث عن المحفظة","foundation":"مؤسسة","gemini-logo":"شعار Gemini","get-eth":"احصل على ETH","get-involved":"شارك","get-started":"ابدأ الاستخدام","gitcoin-logo":"شعار شركة Gitcoin","glossary":"قائمة المصطلحات","governance":"إرشادات","grants":"منح","grant-programs":"برامج منح النظام البيئي","guides-and-resources":"أدلة ومصادر المجتمع","history":"تاريخ","history-of-ethereum":"تاريخ الإيثيريوم","home":"الصفحة الرئيسية","how-ethereum-works":"كيفية عمل إيثريوم","image":"صورة","in-this-section":"في هذا القسم","individuals":"الأفراد","individuals-menu":"قائمة الأفراد","jobs":"الوظائف","kraken-logo":"شعار شركة Kraken","language-ar":"العربية","language-bg":"البلغارية","language-bn":"البنغالية","language-ca":"الكتالونية","language-cs":"التشيكية","language-de":"الألمانية","language-el":"اليونانية","language-en":"الإنجليزية","language-es":"الإسبانية","language-fa":"الفارسية","language-fi":"الفنلندية","language-fr":"الفرنسية","language-hu":"الهنغارية","language-hr":"الكرواتية","language-hi":"الهندية","language-id":"الأندونسية","language-ig":"الإيجبو","language-it":"الإيطالية","language-ja":"اليابانية","language-ko":"الكورية","language-lt":"الليتوانية","language-ml":"المالايالامية","language-nb":"النرويجية","language-nl":"الهولندية","language-pl":"البولندية","language-pt":"البرتغالية","language-pt-br":"البرتغالية (البرازيل)","language-ro":"الرومانية","language-ru":"الروسية","language-se":"السويدية","language-sk":"السلوفاكية","language-sl":"السلوفينية","language-support":"مساعدة اللغة","language-tr":"التركية","language-uk":"الأوكرانية","language-vi":"الفيتنامية","language-zh":"الصينية المبسطة","language-zh-tw":"الصينية التقليدية","languages":"اللغات","last-24-hrs":"آخر 24 ساعة","last-edit":"آخر تعديل","learn":"تعلّم","learn-by-coding":"تعلّم عن طريق البرمجة","learn-menu":"قائمة التعلّم","learn-more":"تعلّم أكثر","less":"أقل","light-mode":"فاتح","listing-policy-disclaimer":"جميع المنتجات المدرجة في هذه الصفحة ليست مصادقة رسمية ولا تقدم إلا لأغراض إعلامية. إذا كنت ترغب في إضافة منتج أو تقديم تعليقات على السياسة، فاطرح مشكلة في GitHub.","listing-policy-raise-issue-link":"طرح مشكلة","live-help":"المساعدة المباشرة","live-help-menu":"قائمة المساعدة المباشرة","loading":"جاري التحميل...","loading-error":"خطأ في التحميل.","loading-error-refresh":"خطأ، يُرجى إعادة المحاولة.","logo":"الشعار","loopring-logo":"شعار لوبرينج","london-upgrade-banner":"ترقية لندن مباشرة على: ","london-upgrade-banner-released":"تم إصدار ترقية لندن!","mainnet-ethereum":"ماينيت إثيريوم","makerdao-logo":"شعار MakerDao","matcha-logo":"شعار ماتشا","merge":"دمج","more":"المزيد","nav-beginners":"مبتدئين","next":"التالي","oasis-logo":"شعار Oasis","on-this-page":"في هذه الصفحة","page-content":"محتوى الصفحة","page-enterprise":"الشركات","page-last-updated":"آخر تحديث للصفحة","previous":"السابق","privacy-policy":"سياسة الخصوصية","private-ethereum":"إثيريوم خاص","pros":"الإيجابيات","read-more":"اقرأ المزيد","refresh":"يُرجى تحديث الصفحة.","review-progress":"استعراض التقدم المحرز","search":"بحث","search-box-blank-state-text":"البحث بعيدًا!","search-eth-address":"يبدو هذا كعنوان إيثيريوم. نحن لا نقدم بيانات محددة للعناوين. حاول البحث عنه في مستكشف كتلة مثل","search-no-results":"لا توجد نتائج لهذا البحث","security":"الأمان","see-contributors":"المساهمون","set-up-local-env":"إعداد البيئة المحلية الخاصة بك","shard-chains":"سلسلة القطع","show-all":"عرض الكل","show-less":"عرض أقل","site-description":"إيثيريوم هو منصة عالمية لامركزية للنقود وأنواع جديدة من التطبيقات. في إيثيريوم، يمكنك كتابة التعليمات البرمجية التي تحكم المال، وبناء التطبيقات التي يمكن الوصول إليها في أي مكان في العالم.","site-title":"ethereum.org","stablecoins":"Stablecoins","staking":"تجميد العملات","summary":"موجز","terms-of-use":"شروط الاستخدام","transaction-fees":"ما هي رسوم المعاملات؟","translation-banner-body-new":"ترى هذه الصفحة بالإنجليزية لأننا لم نترجمها بعد. ساعدنا في ترجمة هذا المحتوى.","translation-banner-body-update":"هناك نسخة جديدة من هذه الصفحة لكنها باللغة الإنجليزية فقط الآن. ساعدنا في ترجمة أحدث إصدار.","translation-banner-button-join-translation-program":"انضم إلى برنامج الترجمة","translation-banner-button-learn-more":"تعلّم أكثر","translation-banner-button-see-english":"اعرض المحتوى بالإنجليزية","translation-banner-button-translate-page":"ترجم الصفحة","translation-banner-title-new":"المساعدة في ترجمة هذا البرنامج","translation-banner-title-update":"ساعد في تحديث هذه الصفحة","translation-program":"برنامج الترجمة","translation-progress":"التقدم المحرز في الترجمة","tutorials":"البرامج التعليمية","uniswap-logo":"شعار شركة Uniswap","use":"الاستخدام","use-ethereum":"استخدم إثيريوم","use-ethereum-menu":"استخدام قائمة إيثيريوم","vision":"الرؤية","wallets":"المحافظ","website-last-updated":"آخر تحديث للموقع","what-is-ether":"ما إيثر (ETH)؟","what-is-ethereum":"ما هو الإثيريوم؟","whitepaper":"دليل الاستخدام","defi-page":"التمويل اللامركزي (DeFi)","dao-page":"المنظمات المستقلة اللامركزية (DAOs)","nft-page":"رموز رقمية غير قابلة للاستبدال (NFTs)","page-developer-meta-title":"موارد مطور إيثيريوم","page-developers-about":"حول موارد المطور هذه","page-developers-about-desc":"ethereum.org هنا لمساعدتك في البناء مع إيثيريوم مع التوثيق على المفاهيم الأساسية وكذلك على تكدس التطوير. بالإضافة إلى ذلك هناك دروس للارتقاء بك وتشغيل.","page-developers-about-desc-2":"وبإلهام من شبكة مطوري موزيلا، ظننا أن إيثيريوم بحاجة إلى مكان لإيواء محتوى ومصادر رائعة. مثل أصدقائنا في موزيلا، كل شيء هنا مفتوح المصدر ومستعد لك للتوسع والتحسن.","page-developers-account-desc":"العقود أو الأشخاص في الشبكة","page-developers-accounts-link":"الحسابات","page-developers-advanced":"إعدادات متقدمة","page-developers-api-desc":"استخدام المكتبات للتفاعل مع العقود الذكية","page-developers-api-link":"Backend APIs","page-developers-aria-label":"قائمة المطورين","page-developers-block-desc":"دفعات المعاملات المضافة إلى سلسلة الكتل","page-developers-block-explorers-desc":"بوابة بيانات إيثيريوم الخاصة بك","page-developers-block-explorers-link":"مستكشفات الكتلة","page-developers-blocks-link":"الكتل","page-developers-browse-tutorials":"استعرض الدروس التعليمية","page-developers-choose-stack":"اختر الفئة الخاصة بك","page-developers-contribute":"ساهم","page-developers-dev-env-desc":"IDEs المناسبة لتطوير dapp","page-developers-dev-env-link":"بيئات التطوير","page-developers-discord":"انضم لنا على الديسكورد","page-developers-docs-introductions":"المقدمات","page-developers-evm-desc":"الكمبيوتر الذي يعالج المعاملات","page-developers-evm-link":"آلة إيثيريوم الافتراضية (EVM)","page-developers-explore-documentation":"استكشاف الوثائق","page-developers-feedback":"إذا كان لديك أي ملاحظات، اتصل بنا عبر مشكلة GitHub أو على خادم Discord لدينا.","page-developers-frameworks-desc":"أدوات للمساعدة في تسريع التطوير","page-developers-frameworks-link":"أطر التطوير","page-developers-fundamentals":"الأساسيات","page-developers-gas-desc":"تحتاج إلى إيثر لتشغيل المعاملات","page-developers-gas-link":"الغاز","page-developers-get-started":"كيف ترغب في البدء؟","page-developers-improve-ethereum":"ساعدنا في جعل ethereum.org أفضل","page-developers-improve-ethereum-desc":"مثل ethereum.org، هذه المستندات هي جهد مجتمعي. قم بإنشاء \"PR\" إذا رأيت أخطاء، مساحة للتحسين، أو فرص جديدة لمساعدة مطوري \"إيثيريوم\".","page-developers-into-eth-desc":"مقدمة لسلسلة القوالب وإيثيريوم","page-developers-intro-dapps-desc":"مقدمة إلى التطبيقات اللامركزية","page-developers-intro-dapps-link":"مقدمة إلى التطبيقات اللامركزية","page-developers-intro-eth-link":"مقدمة إلى إيثيريوم","page-developers-intro-stack":"مقدمة إلى المكدس","page-developers-intro-stack-desc":"مقدمة لمكدس إيثيريوم","page-developers-js-libraries-desc":"استخدام جافا سكريبت للتفاعل مع العقود الذكية","page-developers-js-libraries-link":"مكتبات جافا سكريبت","page-developers-language-desc":"استخدام إيثيريوم مع اللغات المألوفة","page-developers-languages":"لغات البرمجة","page-developers-learn":"تعلم تطوير الإيثيريوم","page-developers-learn-desc":"اقرأ على المفاهيم الأساسية ومكدس الإيثيريوم مع مستنداتنا","page-developers-learn-tutorials":"التعلم من خلال الدروس التعليمية","page-developers-learn-tutorials-cta":"عرض الدروس التعليمية","page-developers-learn-tutorials-desc":"تعلم تطوير الإيثيريوم خطوة بخطوة من البناة الذين قاموا بذلك بالفعل.","page-developers-meta-desc":"التوثيق، الدروس، والأدوات للمطورين البناء على إيثيريوم.","page-developers-mining-desc":"كيفية إنشاء كتل جديدة والتوصل إلى توافق في الآراء","page-developers-mining-link":"التعدين","page-developers-networks-desc":"لمحة عامة عن الشبكة الرئيسية وشبكات الاختبار","page-developers-networks-link":"الشبكات","page-developers-node-clients-desc":"كيف يتم التحقق من الكتل والمعاملات في الشبكة","page-developers-node-clients-link":" العقد والعملاء","page-developers-oracle-desc":"الحصول على بيانات خارج السلسلة في العقود الذكية","page-developers-oracles-link":"Oracles","page-developers-play-code":"العب بالرمز","page-developers-read-docs":"اقرأ المستندات","page-developers-scaling-desc":"حلول للمعاملات الأسرع","page-developers-scaling-link":"القياس","page-developers-smart-contract-security-desc":"التدابير الأمنية التي ينبغي النظر فيها أثناء عملية التطوير","page-developers-smart-contract-security-link":"الأمان","page-developers-set-up":"إعداد البيئة المحلية الخاصة بك","page-developers-setup-desc":"احصل على تكدس جاهز للبناء عن طريق تهيئة بيئة التطوير.","page-developers-smart-contracts-desc":"المنطق وراء التطبيقات - اتفاقيات التنفيذ التلقائي","page-developers-smart-contracts-link":"العقود الذكية","page-developers-stack":"المكدس","page-developers-start":"ابدأ التجربة","page-developers-start-desc":"هل ترغب في التجربة أولاً، طرح الأسئلة لاحقاً؟","page-developers-storage-desc":"كيفية التعامل مع وحدة تخزين التطبيق اللامركزي","page-developers-storage-link":"التخزين","page-developers-subtitle":"دليل بناة للإيثيريوم. بواسطة البناة، للبناة.","page-developers-title-1":"إثيريوم","page-developers-title-2":"مبرمج","page-developers-title-3":"المصادر","page-developers-token-standards-desc":"لمحة عامة عن المعايير الرمزية المقبولة","page-developers-token-standards-link":"معايير الرمز المميز","page-developers-transactions-desc":"الطريقة التي تتغير بها حالة إيثيريوم","page-developers-transactions-link":"المعاملات","page-developers-web3-desc":"كيف يختلف عالم التنمية على شبكة الإنترنت 3","page-developers-web3-link":"ويب2 مقابل ويب3","page-index-hero-image-alt":"صورة توضيحية لمدينة مستقبلية تمثل النظام الرقمي لإيثريوم.","page-index-meta-description":"إيثيريوم هو منصة عالمية لامركزية للنقود وأنواع جديدة من التطبيقات. في إيثيريوم، يمكنك كتابة التعليمات البرمجية التي تحكم المال، وبناء التطبيقات التي يمكن الوصول إليها في أي مكان في العالم.","page-index-meta-title":"الصفحة الرئيسية","page-index-title":"مرحبًا بك في إيثريوم","page-index-description":"إيثيروم هي تكنولوجيا مدارة من مجتمع إيثيروم لتمكين العملة الرقمية إيثر (ETH) وآلاف التطبيقات اللامركزية.","page-index-title-button":"استكشف إيثيريوم","page-index-get-started":"البدء بالاستخدام","page-index-get-started-description":"ethereum.org هو بوابتك إلى عالم إيثيريوم، حيث التكنلوجيا الجديدة والمتطورة باستمرار. إنه لأمر جيد أن يكون لديك دليل، إليك ماننصحك به للغوص في هذه التكنولوجيا.","page-index-get-started-image-alt":"صورة توضيحية لشخص يعمل على حاسب آلي.","page-index-get-started-wallet-title":"اختر محفظة","page-index-get-started-wallet-description":"تتيح لك المحفظة الاتصال بإيثيريوم وإدارة أموالك.","page-index-get-started-wallet-image-alt":"صورة توضيحية لرجل آلي يتكون جسمه من خزنة تمثل محفظة إيثيريوم.","page-index-get-started-eth-title":"احصل على ETH","page-index-get-started-eth-description":"ETH هي عملة إيثيريوم، يمكنك استعمالها في التطبيقات.","page-index-get-started-eth-image-alt":"صورة توضيحية تبين مجموعة من الأشخاص المذهولين من الصورة الرمزية للإيثر (ETH).","page-index-get-started-dapps-title":"استخدم تطبيقًا لامركزيًا","page-index-get-started-dapps-description":"التطبيقات اللامركزية هي تطبيقات تعمل عن طريق إيثيريوم. شاهد ما يمكنك القيام به.","page-index-get-started-dapps-image-alt":"صورة توضيحية لكلب يستخدم حاسب.","page-index-get-started-devs-title":"ابدأ بالبناء","page-index-get-started-devs-description":"إن أردت البدأ بالبرمجة مع إيثيريوم، فلدينا وثائق ودروس وأكثر من ذلك في بوابة المبرمجين.","page-index-get-started-devs-image-alt":"صورة توضيحية تبين يدًا تشكّل رمز ETH باستعمال قطع الليجو.","page-index-what-is-ethereum":"ما هو إيثريوم؟","page-index-what-is-ethereum-description":"تحتضن تكنولوجيا إيثيريوم الأموال الرقمية، والمدفوعات العالمية، وكذلك التطبيقات الحاسوبية، حيث ساهم مجتمع إيثيريوم ببناء نظام اقتصادي رقمي مزدهر، ما يخلق طرقًا جريئة وجديدة تسمح لصناع المحتوى بالكسب عن طريق الإنترنت، والقيام بأكثر من ذلك بكثير. إيثيريوم مفتوح للجميع، فأينما كنت في العالم، كل ما تحتاجه هو الإنترنت.","page-index-what-is-ethereum-button":"ما هي إيثريوم؟","page-index-what-is-ethereum-secondary-button":"المزيد عن المال الرقمي","page-index-what-is-ethereum-image-alt":"صورة توضيحية تبين شخصًا يذهب مباشرة إلى بازار، كنايةً عن إيثيريوم.","page-index-defi":"نظام مالي أكثر إنصافاً","page-index-defi-description":"في يومنا هذا، لا يستطيع المليارات من الأشخاص فتح حساب مصرفي، وهناك آخرون تم حظر مدفوعاتهم. نظام إيثيريوم المالي اللامركزي (DeFi) لا يتوقف ولا يطبق التمييز أبدًا. فقط بالاتصال بشبكة الإنترنت، بإمكانك إرسال واستقبال واقتراض المال وكسب الفوائد، كما يمكنك دفق الأموال بأي مكان في العالم.","page-index-defi-button":"استكشف النظام المالي اللامركزي (DeFi)","page-index-defi-image-alt":"صورة توضيحية تبين يدًا تقدم رمز ETH.","page-index-internet":"إنترنت مفتوح","page-index-internet-description":"اليوم، نحصل على خدمات إنترنت 'مجانية' بالتخلي عن التحكم في بياناتنا الشخصية. خدمات الإيثيريوم مفتوحة بشكل افتراضي، تحتاج فقط إلى محفظة. وهي مجانية وسهلة الإنشاء، تحت سيطرتكم، وتعمل بدون أي معلومات شخصية.","page-index-internet-button":"استكشف الإنترنت المفتوح","page-index-internet-secondary-button":"المزيد عن المحافظ","page-index-internet-image-alt":"صورة توضيحية لإعداد جهاز كمبيوتر مستقبلي، مدعوم من بلورات الإيثيريوم.","page-index-developers":"حدود جديدة للتطوير","page-index-developers-description":"الإيثيريوم وتطبيقاته شفافة ومفتوحة المصدر. يمكنك تفريع التعليمات البرمجية وإعادة استخدام الوظائف الأخرى التي تم بناؤها بالفعل. إذا كنت لا ترغب في تعلم لغة جديدة يمكنك فقط التفاعل مع التعليمات البرمجية المفتوحة المصدر باستخدام جافا سكريبت وغيرها من اللغات الموجودة.","page-index-developers-button":"بوابة المبرمج","page-index-developers-code-example-title-0":"البنك الخاص بك","page-index-developers-code-example-description-0":"يمكنك بناء بنك يديره المنطق الذي قمت ببرمجته.","page-index-developers-code-example-title-1":"عملتك الخاصة","page-index-developers-code-example-description-1":"يمكنك إنشاء رموز مميزة بحيث يمكنك نقلها واستخدامها عبر التطبيقات.","page-index-developers-code-example-title-2":"محفظة جافا سكريبت إيثيريوم","page-index-developers-code-example-description-2":"بإمكانك استخدام اللغات الموجودة للتفاعل مع الإيثيريوم والتطبيقات الأخرى.","page-index-developers-code-example-title-3":"DNS مفتوح ولا يتطلب تصريحًا","page-index-developers-code-example-description-3":"يمكنك أن تعيد تخيل الخدمات الموجودة كتطبيقات لامركزية و مفتوحة.","page-index-network-stats-title":"إيثيريوم اليوم","page-index-network-stats-subtitle":"أحدث إحصائيات الشبكة","page-index-network-stats-eth-price-description":"سعر ETH (بالدولار الأمريكي)","page-index-network-stats-eth-price-explainer":"أحدث سعر للإيثر الواحد. يمكنك شراء قيمة صغيرة جدًا تصل إلى 0.000000000000000001 جزءًا من الـ ETH، لست بحاجة لشراء عملة ETH كاملة.","page-index-network-stats-tx-day-description":"المعاملات اليوم","page-index-network-stats-tx-day-explainer":"عدد المعاملات التي تمت معالجتها بنجاح على الشبكة خلال الـ 24 ساعة الأخيرة.","page-index-network-stats-value-defi-description":"القيمة المقفلة في تطبيقات التمويل اللامركزي DeFi (بالدولار الأمريكي)","page-index-network-stats-value-defi-explainer":"المبلغ المالي في تطبيقات التمويل اللامركزي (DeFi)، الاقتصاد الرقمي في إيثيريوم.","page-index-network-stats-nodes-description":"العُقَد","page-index-network-stats-nodes-explainer":"يعمل إيثيريوم بواسطة آلاف من المتطوعين حول العالم يعروفون بعقود.","page-index-touts-header":"استكشف إيثيريوم","page-index-contribution-banner-title":"المساهمة في إيثيريوم","page-index-contribution-banner-description":"هذا الموقع مفتوح المصدر، يحتوي على مئات من مجتمعات المساهمين. يمكنك اقتراح تعديلات لأي محتوى في هذا الموقع، قدم اقتراحات لميزات رائعة و جديدة، أو ساعدنا على التخلص من الأخطاء.","page-index-contribution-banner-image-alt":"شعار إيثيريوم مصنوع من قطع الليجو.","page-index-contribution-banner-button":"المزيد حول المساهمة","page-index-tout-eth2-title":"طور معرفتك حول الإيثيريوم 2","page-index-tout-eth2-description":"الإيثيريوم 2.0 هو برنامج لترقيات مترابطة، مصمم لجعل الإيثيريوم أكثر قابلية للتوسع، وأكثر أمنًا واستدامة.","page-index-tout-eth2-image-alt":"صورة توضيحية لسفينة فضائية تمثل القوة المتزايدة لإيثريوم 2.","page-index-tout-enterprise-title":"إيثريوم للشركات","page-index-tout-enterprise-description":"أنظر كيف يمكن لإيثيريوم فتح نماذج أعمال جديدة، وتقليل التكاليف وحماية عملك التجاري في المستقبل.","page-index-tout-enterprise-image-alt":"صورة توضيحية لحاسوب/جهاز مستقبلي.","page-index-tout-community-title":"مجتمع إثيريوم","page-index-tout-community-description":"إيثيريوم يتمحور بشكل كامل حول المجتمع. ويتكون من أشخاص من جميع الخلفيات والاهتمامات المختلفة. انظر كيف يمكنك الانضمام إليه.","page-index-tout-community-image-alt":"صورة توضيحية لمجموعة من البناة يعملون معا.","page-index-nft":"إنترنت الأصول","page-index-nft-description":"إيثيريوم ليس مخصص فقط للأموال الرقمية. أي شيء يمكنك أن تملكه يمكن أن يكون ممثلاً ومتاجراً به ووضعه للاستخدام كعملات غير قابلة للاستبدال (NFTs). يمكنك ترميز أعمالك الفنية والحصول على الإتاوات تلقائياً في كل مرة يعاد بيعها فيها، أو استخدم الرمز المميز لشيء تملكه للحصول على قرض. الاحتمالات في حالة نمو طوال الوقت.","page-index-nft-button":"المزيد من الرموز غير القابلة للاستبدال","page-index-nft-alt":"يتم عرض شعار إيثريوم عبر الهولوغرام."},"routed":true,"originalPath":"/developers/tutorials/waffle-dynamic-mocking-and-testing-calls/","redirect":false}}},
    "staticQueryHashes": ["1011117294","3003422828","4096231394"]}